# 교착상태(Dead Lock)란?
### ▶ 둘 이상의 프로세스들이 자원을 점유한 상태에서 서로 다른 프로세스가 점유하고 있는 자월을 요구하며 `무한정 기다리는 현상`

## 교착상태 발생 조건
###### 교착상태가 발생하기 위해서는 다음의 네가지 조건이 충족되어야 하며, 네가지 조건중 하나라도 충족되지 않으면 교착상태가 발생하지 않음
* ### 상호배제(Mutual Exclusion)
    한번의 한개의 프로세스만이 공유 자원을 사용할 수 있어야 함
    ###### 사용 중인 자원을 다른 프로세스가 사용하려면 요청한 자원이 해제될 떄까지 기다려야 함
* ### 점유와 대기(Hold and Wait)
    자원을 최소한 하나 보유하고, 다른 프로세스에 할당되어 사용되고 있는 자원을 추가로 점유하기 위해 대기하는 프로세스가 존재
* ### 비선점(Non-preemption)
    다른 프로세스에 할당된 자원은 사용이 끝날 때까지 강제로 뺏을수 없어야 함
* ### 순환 대기
    대기 프로세스의 집합이 순환 형태로 자원을 대기하고 있어야 함

## 예방 방법(Prevention)
###### 교착상태 발생의 네가지 조건중에서 하나를 제거함으로써 예방이 가능하며 자원 낭비가 가장 심한 기법
* ### 상호 배제 부정
  한 번에 여러 개의 프로세스가 공유 자원을 사용할 수 있도록 함
* ### 점유 및 대기 부정
  프로세스 실행 전 모든 자원을 할당하여 대기 프로세스 제거 또는 자원이 점유되지 않은 상태에서만 자원을 요구하도록 함
* ### 비선점 부정
  자원을 점유하고 있는 프로세스가 다른 자원을 요구할 때 점유하고 있는 자원을 반납하고, 요구한 자원을 사용하기 위해 대기
* ### 순환 대기 부정
  자원을 순환 형태로 대기하지 않도록 일정한 방향으로만 자원을 요구할 수 있도록 함

## 회피 기법(Avoidance)
###### 교착상태가 발생할 가능성을 배제하지 않고 교착상태가 발생하면 적절히 회피하는 방법

### 은행원 알고리즘
 * #### 최대 사용가능 자원과 각 프로세스에 할당중인 자원의 양, 남은 필요 자원의 양을 계산
 * #### 최대 사용가능 자원에서 각 프로세스에 할당중인 자원의 양을 제외
 * #### 각 프로세서가 필요로 하는 자원의 양 중 남은 자원의 양으로 해결 가능한 프로세스에 자원을 할당(최솟값이 안전 순서를 만족)
 * #### 자원을 할당한 프로세서가 실행되면 해당 프로세서 할당된 자원을 모두 반납하고 다음 프로세서에 할당
 * #### 자원의 할당과 반납을 반복하여 모든 프로세스를 순서대로 실행
#### ※ 문제점
 ##### 미리 최대 자원량을 알아야 하며, 할당할 수 있는 자원 수가 일정해야 하므로 제약조건이 많고, 자원의 효율이 하락 할 수 있음

## 발견 기법(Detection)
시스템에 교차상태가 발생했는지 점검하여 교착상태에 있는 프로세스와 자원을 발견하는 것

## 회복 기법(Recovery)
교착상태를 일으킨 프로세스를 종료하거나 교착상태의 프로세스에 할당된 자원을 선점하여 프로세스나 자원을 회복하는 것

<hr/>

참고자료
* [코딩팩토리](https://coding-factory.tistory.com/311)
* [ChanBLOG](https://chanhuiseok.github.io/posts/cs-2/)