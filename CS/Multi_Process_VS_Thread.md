# 멀티 프로세스 VS 멀티 스레드

## 프로세스(Process)란?
### ▶ 코드로 작성된 프로그램이 `메모리에 적재`되어 사용할 수 있는 상태 (`실행 중인 프로그램`)

## 멀티 프로세스(Multi Process)
### ▶ 두 개 이상의 다수 프로세서(CPU)가 각 프로세스를 `동시에 처리`하는 것(병렬처리)
각 프로세스 간 메모리 구분이 필요하거나 독립된 주소 공간을 가져야 할 경우 사용

## 장점
* ### 프로세스 간 독립된 구조를 가지고 있어 안정적
    * 프로세스 중 하나에 문제가 생겨도 다른 프로세스에 영향을 주지 않아 정지되거나 다른 문제가 발생하지 않음
    * 프로세스 간 메모리 침범 문제를 OS차원에서 해결 가능
* ### 여러 개의 프로세스가 처리되어야 할 떄 동일한 데이터를 사용하고 이러한 데이터를 하나의 디스크에 두고 모든 프로세서가 이를 공유하여 비용적으로 저렴

## 단점
* ### 각각 독립된 영역을 가지고 있어 작업량이 많아지면 `오버헤드`가 발생
  ###### `오버헤드` 어떤 처리를 하기 위해 들어가는 간접적인 처리 시간 · 메모리
* ### `Context Switching`과젱에서 캐시 메모리 초기화 등 무거운 작업이 진행되고 시간이 소모됨
  ###### `Context Switching` CPU에서 여러 프로세스를 돌어가면서 작업을 처리하는 과정
* ### 하나의 프로그램에 속하는 프로세스들 사이의 변수를 공유할 수 없음

<hr/>

## 스레드(Thread)란?
### ▶ 프로세스내에서 실제로 작업을 수행하는 주체

## 멀티 스레드(Multi Thread)
### ▶ 하나의 프로세스에 여러 개의 스레드로 구성하여 자원을 공유하며 작업을 나누어 수행하는 것
각각의 스레드가 고유의 레지스터와 스택으로 표현

## 장점
* ### 시스템 자원 소모 감소 ☞ 자원의 효율성 증대
  * 프로세스를 생성하여 메모리 공간 등의 자원을 할당하는 시스템 콜이 줄어 자원을 효유적으로 관리 가능
  * 스레드들은 부모 프로세스의 자원과 메모리를 공유 할 수 있음 (자원 공유가 쉬움)
* ### 프로세스 간 통신 방법인 IPC에 비해 간단한 통신 방법 ☞ 프로그램 응답시간 단축
  * 동적으로 할당된 공간인 Heap 영역 또는 전역 변수 Data의 공간을 이용한 데이터 공유로 자원 생성과 관리의 중복을 최소화\
* ### 시스템 처리율 향상 ☞ 비용 절감
  * 캐시 메모리를 비울 필요 없이 Stack 영역만 처리하면 되기 때문에 스레드 간 `Context Swtiching이 빠름`
* ### 프로그램 응답 시간 단축
  * 시스템 자원 소모 감소 · 시스템 처리율 향상으로 인해 프로그램 응답 시간이 단축
  * 새로운 프로세스를 생성하는 것보다 자신이 속한 프로세스에서 스레드를 생성하는 것이 빠름
* ### 프로그램 일부분이 중단되거나 긴 작업을 수행하더라도 프로그램의 수행이 중단되지 않음

## 단점
* ### 여러 스레드가 동일한 데이터 공간을 공유하기에 동기화 문제가 발생할 수 있음(병목현상, 데드락 등)
  ###### 서로 다른 스레드가 데이터와 힙 영역을 공유하기 때문에 스레드가 다른 스레드에서 사용중인 벼수나 자료구조에 접근하여 엉뚱한 값을 읽어 오거나 수정하는 것을 방지해야 함
* ### 주의 깊은 설계가 필요하며, 디버깅이 어려움
  ###### 불필요한 부분까지 동기화하면 대기시간으로 인한 성능저하 발생
* ### 하나의 스레드에 문제가 생기면 전체 프로세스가 영향을 받음
* ### 단일 프로세스 시스템의 경우 효과를 기대하기 어려움

<hr/>

# 멀티 프로세스 VS 멀티 스레드
* #### 멀티 스레드는 멀티 프로세스 보다 작은 메모리 공간을 자치하고 Context Switching이 빠른 장점이 있지만, 동기화 문제와 하나의 스레드 장애로 전체 스레드에 영향이 있을 수 있음
* #### 멀티 프로세스가 멀티 스레드보다 안정적이지만 더 많은 메모리와 CPU시간을 차지

<hr/>

참고자료
* [Carnival](https://carnival.tistory.com/46)
* [경험의 연장선](https://livenow14.tistory.com/67)